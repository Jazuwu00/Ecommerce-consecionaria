<!-- EditUser.ejs -->

<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Editar Usuario</title>

  <link rel="stylesheet" href="/css/styles.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-UGjQ8auVK5cC+BXyfnuX9aDfG7E5BVBQHs3zvqdb1VxXc29yfBCZ3QygyL8zWOrC3CkzR/PT8rSxumzakJT1Q==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
    <%- include('navbar') %>
    <div class="main-content ">
  
    <div class="card mx-auto   text-dark " style="background-color: #e9e9e9; width: 450px; ">
        <div class="card-body px-3 text-center">

          <div class="mb-md-5 mt-md-2 pb-2">
            <form action="/user/update" class="w-75 mx-auto" method="post">
              <h2 class="fw-bold">Datos Usuario</h2>
              
              <div class="d-flex mb-4">
                <div class="form-outline form-white ">
                    <label for="nombre">Nombre:</label>
                    <div class="d-flex align-items-center">
                        <input type="text" id="nombre" class="w-75 mx-auto form-control form-control-md" name="nombre"  value="<%= data && data.nombre %>" readonly required>
                        <span class="edit-icon pointer" onclick="enableEdit('nombre') "><i class="bi bi-pencil-square"></i></span>
                    </div>
                </div>
                <div class="form-outline form-white ">
                  <label for="apellido">apellido:</label>
                  <div class="d-flex align-items-center">
                      <input type="text" id="apellido" class="w-75 mx-auto form-control form-control-md" name="apellido" value="<%= data && data.apellido %>" readonly required>
                      <span class="edit-icon pointer" onclick="enableEdit('apellido') "><i class="bi bi-pencil-square"></i></span>
                  </div>
              </div></div>
              
              <div class="form-outline form-white mb-4">
                <label for="email">Email:</label>
                <div class="d-flex align-items-center">
                    <input type="email" id="email" class="w-75 mx-auto form-control form-control-md" name="email" value="<%= data && data.email %>" readonly required>
                    <span class="edit-icon pointer" onclick="enableEdit('email') "><i class="bi bi-pencil-square"></i></span>
                </div>
            </div>

              <div class="form-outline form-white mb-4">
                  <label class="form-label" for="nick">Nombre Usuario</label>
                  <div class="d-flex align-items-center">
                      <input type="text" id="nick" name="nick" class="w-75 mx-auto form-control form-control-md" value="<%= data && data.nick %>" readonly />
                      <span class="edit-icon" onclick="enableEdit('nick')"><i class="bi bi-pencil-square"></i></span>
                  </div>
              </div>
          
              <div class="form-outline form-white mb-4 ">
                  <label class="form-label" for="contrasenia">Contrase√±a</label>
                  <div class="d-flex align-items-center" >
                    <input type="password" id="contrasenia" name="contrasenia" value="<%= data &&data.contrasenia %>"  class=" w-75 mx-auto form-control form-control-md" readonly required  >
                    <div class="" style="position: absolute; right: 30;"  onclick="mostrarContrasena()"><i class=" bi-eye"></i></div>
                    <span class="edit-icon pointer" onclick="enableEdit('contrasenia') "><i class="bi bi-pencil-square"></i></span>

                  </div>
                </div>
         
              <button class="btn btn-dark btn-md px-5" type="submit">Guardar Cambios</button>
          </form>
          
         
        </div>
        </div>
    </div>
    </div>
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <!-- Footer -->
  <!-- Incluye el footer -->
  <script>
    function enableEdit(fieldId) {
        document.getElementById(fieldId).readOnly = false;
    }
  
  function mostrarContrasena(){
      var tipo = document.getElementById("contrasenia");
      var icon = document.querySelector("[onclick='mostrarContrasena()'] i");

      if(tipo.type == "password"){
          tipo.type = "text";
          icon.classList.remove("bi-eye");
            icon.classList.add("bi-eye-slash");
      }else{
          tipo.type = "password";
          icon.classList.remove("bi-eye-slash");
            icon.classList.add("bi-eye");
      }
  }

</script>
  <%- include('footer') %>
</body>
</html>
